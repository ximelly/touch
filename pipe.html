<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <script src="js/pipe.js"></script>
        <style type="text/css">
            
        </style>
    </head>
    <body>
        <button class="button1">button1</button>
        <button class="button2">button2</button>

        <script>
            let btn1=document.querySelector(".button1");
            let btn2=document.querySelector(".button2");

            /*btn1.addEventListener("aaa", function(){
                console.log("触发btn1的click事件");
            }, false)*/

            let pipe=new Pipe();
            pipe.on("aaa",function(a,b){
                console.log(`触发aaa事件${a+b}`);
                console.log(this);
            })

            /*btn2.addEventListener("click", function(){
                let event=new myEvent("aaa");
                console.log(event);
                btn1.dispatchEvent(event);
            }, false)*/

            btn2.addEventListener("click", function(){
                pipe.emit("aaa",1,2);
            }, false)
        </script>       

</body>
</html>

